{"version":3,"sources":["webpack:///./src/views/pages/Login.vue?8eea","webpack:///src/views/pages/Login.vue","webpack:///./src/views/pages/Login.vue?92b0","webpack:///./src/views/pages/Login.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","on","login","scopedSlots","_u","key","fn","ref","hasErrors","isLoading","_v","_s","version","model","value","callback","$$v","loginForm","expression","staticRenderFns","name","data","methods","computed","auth","hasAuth","mounted","beforeMount","$store","watch","component"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,qCAAqC,CAACF,EAAG,aAAa,CAACA,EAAG,OAAO,CAACE,YAAY,0BAA0B,CAACF,EAAG,OAAO,CAACG,MAAM,CAAC,GAAK,MAAM,CAACH,EAAG,aAAa,CAACA,EAAG,QAAQ,CAACE,YAAY,OAAO,CAACF,EAAG,YAAY,CAACA,EAAG,gBAAgB,CAACI,GAAG,CAAC,OAASR,EAAIS,OAAOC,YAAYV,EAAIW,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASC,GACzZ,IAAIC,EAAYD,EAAIC,UAChBC,EAAYF,EAAIE,UACpB,MAAO,CAACZ,EAAG,KAAK,CAACJ,EAAIiB,GAAG,WAAWb,EAAG,IAAI,CAACE,YAAY,cAAc,CAACN,EAAIiB,GAAG,6BAA6Bb,EAAG,iBAAiB,CAACG,MAAM,CAAC,KAAO,WAAW,MAAQ,WAAW,WAAa,cAAcH,EAAG,iBAAiB,CAACG,MAAM,CAAC,KAAO,WAAW,MAAQ,WAAW,KAAO,WAAW,WAAa,2BAA2BH,EAAG,OAAO,CAACA,EAAG,OAAO,CAACE,YAAY,YAAYC,MAAM,CAAC,IAAM,MAAM,CAACH,EAAG,iBAAiB,CAACG,MAAM,CAAC,KAAO,SAAS,SAAWQ,GAAaC,EAAU,MAAQA,EAAY,aAAe,qBAAqB,CAAChB,EAAIiB,GAAG,cAAc,GAAGb,EAAG,OAAO,CAACE,YAAY,aAAaC,MAAM,CAAC,IAAM,MAAM,CAACH,EAAG,UAAU,CAACE,YAAY,OAAOC,MAAM,CAAC,MAAQ,SAAS,CAACP,EAAIiB,GAAG,sBAAsBb,EAAG,UAAU,CAACE,YAAY,YAAYC,MAAM,CAAC,MAAQ,SAAS,CAACP,EAAIiB,GAAG,mBAAmBb,EAAG,QAAQ,CAACJ,EAAIiB,GAAGjB,EAAIkB,GAAGlB,EAAImB,aAAa,IAAI,QAAQC,MAAM,CAACC,MAAOrB,EAAa,UAAEsB,SAAS,SAAUC,GAAMvB,EAAIwB,UAAUD,GAAKE,WAAW,gBAAgB,IAAI,GAAGrB,EAAG,QAAQ,CAACE,YAAY,kCAAkCC,MAAM,CAAC,MAAQ,UAAU,aAAa,QAAQ,eAAe,KAAK,CAACH,EAAG,YAAY,CAACA,EAAG,KAAK,CAACJ,EAAIiB,GAAG,aAAab,EAAG,IAAI,CAACJ,EAAIiB,GAAG,kIAAkIb,EAAG,UAAU,CAACG,MAAM,CAAC,MAAQ,QAAQ,QAAU,UAAU,KAAO,OAAO,CAACP,EAAIiB,GAAG,sBAAsB,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IACh2CS,EAAkB,GCqEtB,G,8BAAA,CACEC,KAAM,QACNC,KAFF,WAGI,MAAJ,CACM,UAAN,GACM,QAAN,UAGEC,QAAS,CACPpB,MADJ,SACA,GACM,KAAN,6BAGEqB,SAAF,CACIC,KADJ,WACA,wCACIC,QAFJ,WAEA,WAEEC,QAjBF,WAkBA,wDACA,mCACA,kDACA,iCAEEC,YAvBF,WAuBA,WACIjC,KAAKkC,OAAOC,OAChB,YACM,OAAN,eAEA,WAAM,IAAN,wHACM,QAAN,SACA,KACA,wDAEA,sEAEA,6CADA,6BAFA,kCAOA,CAAM,WAAN,OChH8V,I,YCO1VC,EAAY,eACd,EACAtC,EACA2B,GACA,EACA,KACA,KACA,MAIa,aAAAW,E","file":"js/chunk-2d0e8c24.518f7c04.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"c-app flex-row align-items-center\"},[_c('CContainer',[_c('CRow',{staticClass:\"justify-content-center\"},[_c('CCol',{attrs:{\"md\":\"8\"}},[_c('CCardGroup',[_c('CCard',{staticClass:\"p-4\"},[_c('CCardBody',[_c('FormulateForm',{on:{\"submit\":_vm.login},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar hasErrors = ref.hasErrors;\nvar isLoading = ref.isLoading;\nreturn [_c('h1',[_vm._v(\"Login\")]),_c('p',{staticClass:\"text-muted\"},[_vm._v(\"Sign In to your account\")]),_c('FormulateInput',{attrs:{\"name\":\"username\",\"label\":\"Username\",\"validation\":\"required\"}}),_c('FormulateInput',{attrs:{\"name\":\"password\",\"label\":\"Password\",\"type\":\"password\",\"validation\":\"required|min:6,length\"}}),_c('CRow',[_c('CCol',{staticClass:\"text-left\",attrs:{\"col\":\"6\"}},[_c('FormulateInput',{attrs:{\"type\":\"submit\",\"disabled\":hasErrors || isLoading,\"label\":isLoading ? 'Loading...' : 'Submit this form'}},[_vm._v(\" Login \")])],1),_c('CCol',{staticClass:\"text-right\",attrs:{\"col\":\"6\"}},[_c('CButton',{staticClass:\"px-0\",attrs:{\"color\":\"link\"}},[_vm._v(\"Forgot password?\")]),_c('CButton',{staticClass:\"d-lg-none\",attrs:{\"color\":\"link\"}},[_vm._v(\"Register now!\")]),_c('small',[_vm._v(_vm._s(_vm.version))])],1)],1)]}}]),model:{value:(_vm.loginForm),callback:function ($$v) {_vm.loginForm=$$v},expression:\"loginForm\"}})],1)],1),_c('CCard',{staticClass:\"text-center py-5 d-md-down-none\",attrs:{\"color\":\"primary\",\"text-color\":\"white\",\"body-wrapper\":\"\"}},[_c('CCardBody',[_c('h2',[_vm._v(\"Sign up\")]),_c('p',[_vm._v(\"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.\")]),_c('CButton',{attrs:{\"color\":\"light\",\"variant\":\"outline\",\"size\":\"lg\"}},[_vm._v(\" Register Now! \")])],1)],1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"c-app flex-row align-items-center\">\r\n    <CContainer>\r\n      <CRow class=\"justify-content-center\">\r\n        <CCol md=\"8\">\r\n          <CCardGroup>\r\n            <CCard class=\"p-4\">\r\n              <CCardBody>\r\n                <FormulateForm\r\n                  @submit=\"login\"\r\n                  v-model=\"loginForm\"\r\n                  #default=\"{ hasErrors, isLoading }\"\r\n                >\r\n                  <h1>Login</h1>\r\n                  <p class=\"text-muted\">Sign In to your account</p>\r\n                  <FormulateInput\r\n                    name=\"username\"\r\n                    label=\"Username\"\r\n                    validation=\"required\"\r\n                  />\r\n                  <FormulateInput\r\n                    name=\"password\"\r\n                    label=\"Password\"\r\n                    type=\"password\"\r\n                    validation=\"required|min:6,length\"\r\n                  />\r\n                  <CRow>\r\n                    <CCol col=\"6\" class=\"text-left\">\r\n                      <FormulateInput\r\n                        type=\"submit\"\r\n                        :disabled=\"hasErrors || isLoading\"\r\n                        :label=\"isLoading ? 'Loading...' : 'Submit this form'\"\r\n                      >\r\n                        Login\r\n                      </FormulateInput>\r\n                    </CCol>\r\n                    <CCol col=\"6\" class=\"text-right\">\r\n                      <CButton color=\"link\" class=\"px-0\">Forgot password?</CButton>\r\n                      <CButton color=\"link\" class=\"d-lg-none\">Register now!</CButton>\r\n                      <small>{{ version }}</small>\r\n                    </CCol>\r\n                  </CRow>\r\n                </FormulateForm>\r\n              </CCardBody>\r\n            </CCard>\r\n            <CCard\r\n              color=\"primary\"\r\n              text-color=\"white\"\r\n              class=\"text-center py-5 d-md-down-none\"\r\n              body-wrapper\r\n            >\r\n              <CCardBody>\r\n                <h2>Sign up</h2>\r\n                <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>\r\n                <CButton\r\n                  color=\"light\"\r\n                  variant=\"outline\"\r\n                  size=\"lg\"\r\n                >\r\n                  Register Now!\r\n                </CButton>\r\n              </CCardBody>\r\n            </CCard>\r\n          </CCardGroup>\r\n        </CCol>\r\n      </CRow>\r\n    </CContainer>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport AuthMixin from '../../services/auth.mixin'\r\nimport { mapState } from 'vuex'\r\nexport default {\r\n  name: 'Login',\r\n  data() {\r\n      return {\r\n          loginForm:{},\r\n          version: process.env.VUE_APP_ENV\r\n      }\r\n  },\r\n  methods: {\r\n    login(data){\r\n        this.$store.dispatch('login', data)\r\n    }\r\n  },\r\n  computed:{\r\n    auth(){ return this.$store.state.auth.dash || {} },\r\n    hasAuth(){ return process.env.VUE_APP_LOGIN === 'true' }\r\n  },\r\n  mounted(){\r\n    if( !this.auth.isLogged && !this.$route.path.includes('pages') ) \r\n        this.$router.push('/pages/login')\r\n    if( !this.hasAuth && this.$route.path.includes('pages') )\r\n        this.$router.push('/dashboard')\r\n  },\r\n  beforeMount(){\r\n    this.$store.watch(\r\n      state => {\r\n        return state.auth.dash\r\n      },\r\n      (next={}, prev={}) => {\r\n        console.log(prev, next)\r\n        if( next ){\r\n            if( this.hasAuth && !next.isLogged && !this.$route.path.includes('pages') ) \r\n                this.$router.push('/pages/login')\r\n            else if( this.hasAuth && next.isLogged && !prev.isLogged && this.$route.path.includes('pages')) \r\n                this.$router.push('/dashboard')\r\n            else if( !this.hasAuth && this.$route.path.includes('pages') )\r\n                this.$router.push('/dashboard')\r\n        } \r\n      },\r\n      { immediate: true }\r\n    )\r\n  }\r\n   \r\n}\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=0cea02f6&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}